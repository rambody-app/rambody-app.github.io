<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Circular Timer</title>
<style>
  .circle-timer {
    position: relative;
    width: 150px;
    height: 150px;
    text-align: center;
    border-radius: 50%;
    background: white;
    box-shadow: 0 0 10px #0003 inset, 0 0 5px #0a0a0a;
  }
  .circle-timer:after {
    content: '';
    position: absolute;
    top: 5px;
    right: 5px;
    bottom: 5px;
    left: 5px;
    border-radius: 50%;
    background: #fff;
    z-index: 100;
  }
  .timer-text {
    position: relative;
    top: 50%;
    transform: translateY(-50%);
    z-index: 150;
    font-size: 24px;
    font-weight: bold;
  }
  .progress-bar {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    border-radius: 50%;
    clip: rect(0px, 150px, 150px, 75px);
    background: none;
    z-index: 50;
  }
  .progress-bar .fill {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    border-radius: 50%;
    background: #3498db;
    transform: rotate(0deg);
    transform-origin: center bottom;
    transition: transform 0.1s linear;
  }
</style>
</head>
<body>

<div class="circle-timer">
  <div class="progress-bar" id="progress-bar">
    <div class="fill" id="fill"></div>
  </div>
  <div class="timer-text" id="timer">00:00</div>
</div>

<script>
var timerElement = document.getElementById('timer');
var fillElement = document.getElementById('fill');
var progressBarElement = document.getElementById('progress-bar');
var totalSeconds = 60;
var interval;

function updateTimer() {
  var seconds = totalSeconds % 60;
  var minutes = parseInt(totalSeconds / 60);
  timerElement.textContent = (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds);

  // Calculate the fill rotation
  var fillRotation = 360 - (totalSeconds / 60 * 360);
  fillElement.style.transform = 'rotate(' + fillRotation + 'deg)';

  // When half of the time has passed, we need to add a class to the progress bar
  if (totalSeconds <= 30) {
    progressBarElement.classList.add('half');
  }

  if (totalSeconds <= 0) {
    clearInterval(interval);
  }

  totalSeconds--;
}

function startTimer() {
  interval = setInterval(updateTimer, 1000);
}

window.onload = function () {
  startTimer();
}
</script>

</body>
</html>
